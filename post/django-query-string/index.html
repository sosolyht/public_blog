<!doctype html><html lang=ko dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Django Query String 쿼리스트링 | 최희택의 개발 공부 로그</title>
<meta name=keywords content="django,장고,django query string,쿼리 스트링">
<meta name=description content="Query string에 대해 알아봅시다.">
<meta name=author content="최희택">
<link rel=canonical href=https://heetaek.com/post/django-query-string/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.3f1eac3b256bab8658cf8cbbc589df633827e762c195a9471dd6395d847bd316.css integrity="sha256-Px6sOyVrq4ZYz4y7xYnfYzgn52LBlalHHdY5XYR70xY=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://heetaek.com/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://heetaek.com/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://heetaek.com/favicon-32x32.png>
<link rel=apple-touch-icon href=https://heetaek.com/apple-touch-icon.png>
<link rel=mask-icon href=https://heetaek.com/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QPR5XGZ8DK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QPR5XGZ8DK',{anonymize_ip:!1})}</script>
<meta property="og:title" content="Django Query String 쿼리스트링">
<meta property="og:description" content="Query string에 대해 알아봅시다.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://heetaek.com/post/django-query-string/"><meta property="og:image" content="https://heetaek.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post">
<meta property="article:published_time" content="2022-02-06T00:00:00+00:00">
<meta property="article:modified_time" content="2022-02-06T00:00:00+00:00"><meta property="og:site_name" content="최희택의 개발 공부 로그">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://heetaek.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="Django Query String 쿼리스트링">
<meta name=twitter:description content="Query string에 대해 알아봅시다.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://heetaek.com/post/"},{"@type":"ListItem","position":3,"name":"Django Query String 쿼리스트링","item":"https://heetaek.com/post/django-query-string/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Django Query String 쿼리스트링","name":"Django Query String 쿼리스트링","description":"Query string에 대해 알아봅시다.","keywords":["django","장고","django query string","쿼리 스트링"],"articleBody":"Query String 기존에 저는 뷰를 작성하고 특정 URL로 접속해 body에 데이터를 담아 JSON 타입으로 인코딩을 해서 통신을 했습니다. 그러나 클라이언트의 기능이 점점 추가될수록 서버 측에서는 조건에 따라 모든 API를 작성하는 것이 반복적이고 불필요한 작업이 될 수 있습니다.\n이러한 문제점을 해결해주는게 RESTful한 API 작성을 도와주는 Query String 입니다.\nRESTfulAPI 란??\nQuery String 은 ?로 시작해서 \u0026를 통해 여러 데이터를 동시에 전달 가능합니다.\n views.py\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  class ProductDetailView(View): def get(self, request, product_id): try: product = Product.objects.get(id = product_id) result = { 'id' : product.id, 'name' : product.name, 'shipping' : product.shipping, 'price' : product.price, 'is_green' : product.is_green, 'is_sale' : product.is_sale, 'category_id' : product.category_id, 'stock' : product.stock, 'discount_price' : product.discount_price, 'image' : product.image_set.all()[0].img_url } return JsonResponse({'result': result}, status = 200)    urls.py\n 1 2 3  urlpatterns = [ path(\"/\",ProductDetailView.as_view()) ]   위의 코드는 기존의 상품을 가져오는 뷰\nhttp://127.0.0.1/products/7\n라고 입력을 하면 product_id 의 7번 상품을 조회해서 정보를 JSON 타입으로 주었습니다.\n이번에는 쿼리스트링을 적용해 볼까요?\n views.py\n 1 2 3 4 5 6 7 8 9  class ProductDetailView(View): def get(self, request): try: product_id = request.GET.get('id') products = Product.objects.filter(id = product_id).values() products = list(products) return JsonResponse({'result': products}, status = 200)    urls.py\n 1 2 3  urlpatterns = [ path(\"\",ProductDetailView.as_view()) ]   request.GET.get 으로 id 7번 아이템을 가져와서 모든 정보를 가져오라는 뜻입니다.\n그래서 입력을 http://127.0.0.1:8000/products?id=7 이렇게 했더니\n똑같이 정상적으로 출력이 되는 것을 확인하실 수 있습니다.\n아직까지도 난해한 부분이라 계속 응용을 해봐야할것같습니다.\n","wordCount":"235","inLanguage":"ko","datePublished":"2022-02-06T00:00:00Z","dateModified":"2022-02-06T00:00:00Z","author":{"@type":"Person","name":"최희택"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://heetaek.com/post/django-query-string/"},"publisher":{"@type":"Organization","name":"최희택의 개발 공부 로그","logo":{"@type":"ImageObject","url":"https://heetaek.com/favicon.ico"}}}</script>
</head>
<body id=top>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://heetaek.com accesskey=h title="heetaek.com (Alt + H)">heetaek.com</a>
<span class=logo-switches>
</span>
</div>
<ul id=menu>
<li>
<a href=https://heetaek.com/categories/ title=categories>
<span>categories</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://heetaek.com>Home</a>&nbsp;»&nbsp;<a href=https://heetaek.com/post/>Posts</a></div>
<h1 class=post-title>
Django Query String 쿼리스트링
</h1>
<div class=post-description>
Query string에 대해 알아봅시다.
</div>
<div class=post-meta><span title="2022-02-06 00:00:00 +0000 UTC">2022-02-06</span>&nbsp;·&nbsp;2 분&nbsp;·&nbsp;최희택&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/post/django-query-string.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header> <div class=toc>
<details open>
<summary accesskey=c title="(Alt + C)">
<span class=details>목차</span>
</summary>
<div class=inner><ul>
<li>
<a href=#query-string aria-label="Query String">Query String</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content><h1 id=query-string>Query String<a hidden class=anchor aria-hidden=true href=#query-string>#</a></h1>
<p><img loading=lazy src=https://user-images.githubusercontent.com/2377807/152666203-2279cc57-d5dc-4a03-b54d-568e228bd25f.png alt="query string">
</p>
<p>기존에 저는 뷰를 작성하고 특정 URL로 접속해 body에 데이터를 담아 JSON 타입으로 인코딩을 해서 통신을 했습니다.
그러나 클라이언트의 기능이 점점 추가될수록 서버 측에서는 조건에 따라 모든 API를 작성하는 것이 반복적이고 불필요한 작업이 될 수 있습니다.</p>
<p>이러한 문제점을 해결해주는게 RESTful한 API 작성을 도와주는 <code>Query String</code> 입니다.</p>
<p><a href=https://cidk.xyz/p/restful-api/>RESTfulAPI 란??</a></p>
<p><code>Query String</code> 은 <code>?</code>로 시작해서 <code>&</code>를 통해 여러 데이터를 동시에 전달 가능합니다.</p>
<blockquote>
<p>views.py</p>
</blockquote>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>ProductDetailView</span><span class=p>(</span><span class=n>View</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>product_id</span><span class=p>):</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>product</span> <span class=o>=</span> <span class=n>Product</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>id</span> <span class=o>=</span> <span class=n>product_id</span><span class=p>)</span>
            <span class=n>result</span> <span class=o>=</span> <span class=p>{</span>
                <span class=s1>&#39;id&#39;</span>             <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>
                <span class=s1>&#39;name&#39;</span>           <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
                <span class=s1>&#39;shipping&#39;</span>       <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>shipping</span><span class=p>,</span>
                <span class=s1>&#39;price&#39;</span>          <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>price</span><span class=p>,</span>
                <span class=s1>&#39;is_green&#39;</span>       <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>is_green</span><span class=p>,</span>
                <span class=s1>&#39;is_sale&#39;</span>        <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>is_sale</span><span class=p>,</span>
                <span class=s1>&#39;category_id&#39;</span>    <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>category_id</span><span class=p>,</span>
                <span class=s1>&#39;stock&#39;</span>          <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>stock</span><span class=p>,</span>
                <span class=s1>&#39;discount_price&#39;</span> <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>discount_price</span><span class=p>,</span>
                <span class=s1>&#39;image&#39;</span>          <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>image_set</span><span class=o>.</span><span class=n>all</span><span class=p>()[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>img_url</span>
            <span class=p>}</span>

            <span class=k>return</span> <span class=n>JsonResponse</span><span class=p>({</span><span class=s1>&#39;result&#39;</span><span class=p>:</span> <span class=n>result</span><span class=p>},</span> <span class=n>status</span> <span class=o>=</span> <span class=mi>200</span><span class=p>)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>urls.py</p>
</blockquote>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=n>urlpatterns</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>path</span><span class=p>(</span><span class=s2>&#34;/&lt;int:product_id&gt;&#34;</span><span class=p>,</span><span class=n>ProductDetailView</span><span class=o>.</span><span class=n>as_view</span><span class=p>())</span>
<span class=p>]</span>
</code></pre></td></tr></table>
</div>
</div><p>위의 코드는 기존의 상품을 가져오는 뷰</p>
<p><code>http://127.0.0.1/products/7</code></p>
<p>라고 입력을 하면 <code>product_id</code> 의 7번 상품을 조회해서 정보를 JSON 타입으로 주었습니다.</p>
<p>이번에는 쿼리스트링을 적용해 볼까요?</p>
<blockquote>
<p>views.py</p>
</blockquote>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>ProductDetailView</span><span class=p>(</span><span class=n>View</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>):</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>product_id</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>GET</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;id&#39;</span><span class=p>)</span>
            <span class=n>products</span> <span class=o>=</span> <span class=n>Product</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=nb>id</span> <span class=o>=</span> <span class=n>product_id</span><span class=p>)</span><span class=o>.</span><span class=n>values</span><span class=p>()</span>
            <span class=n>products</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>products</span><span class=p>)</span>


            <span class=k>return</span> <span class=n>JsonResponse</span><span class=p>({</span><span class=s1>&#39;result&#39;</span><span class=p>:</span> <span class=n>products</span><span class=p>},</span> <span class=n>status</span> <span class=o>=</span> <span class=mi>200</span><span class=p>)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>urls.py</p>
</blockquote>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=n>urlpatterns</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>path</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=n>ProductDetailView</span><span class=o>.</span><span class=n>as_view</span><span class=p>())</span>
<span class=p>]</span>
</code></pre></td></tr></table>
</div>
</div><p><code>request.GET.get</code> 으로 <code>id</code> 7번 아이템을 가져와서 모든 정보를 가져오라는 뜻입니다.</p>
<p>그래서 입력을 <code>http://127.0.0.1:8000/products?id=7</code> 이렇게 했더니</p>
<p><img loading=lazy src=https://user-images.githubusercontent.com/2377807/152666763-2c6ed01b-1f6b-4f6e-a683-ae34edd266ab.png alt=image>
</p>
<p>똑같이 정상적으로 출력이 되는 것을 확인하실 수 있습니다.</p>
<p>아직까지도 난해한 부분이라 계속 응용을 해봐야할것같습니다.</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://heetaek.com/tags/django/>Django</a></li>
</ul>
<nav class=paginav>
<a class=next href=https://heetaek.com/post/django-why-need-request/>
<span class=title>다음 페이지 »</span>
<br>
<span>Django JsonResponse를 쓰는데 왜 request 가 필요할까</span>
</a>
</nav>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://heetaek.com>최희택의 개발 공부 로그</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='복사';function d(){a.innerText='복사완료!',setTimeout(()=>{a.innerText='복사'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>