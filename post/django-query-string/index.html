<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Django] Query String 쿼리스트링 | V8 Network</title><meta name=keywords content="django,장고,django query string,쿼리 스트링"><meta name=description content="Query string에 대해 알아봅시다."><meta name=author content="Me"><link rel=canonical href=https://v8.network/post/django-query-string/><meta name=google-site-verification content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://v8.network/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://v8.network/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://v8.network/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://v8.network/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://v8.network/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-KGP0XNM9N5"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-KGP0XNM9N5",{anonymize_ip:!1})}</script><meta property="og:title" content="[Django] Query String 쿼리스트링"><meta property="og:description" content="Query string에 대해 알아봅시다."><meta property="og:type" content="article"><meta property="og:url" content="https://v8.network/post/django-query-string/"><meta property="og:image" content="https://v8.network/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-02-06T00:00:00+00:00"><meta property="article:modified_time" content="2022-02-06T00:00:00+00:00"><meta property="og:site_name" content="V8 Network"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://v8.network/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[Django] Query String 쿼리스트링"><meta name=twitter:description content="Query string에 대해 알아봅시다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://v8.network/post/"},{"@type":"ListItem","position":3,"name":"[Django] Query String 쿼리스트링","item":"https://v8.network/post/django-query-string/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Django] Query String 쿼리스트링","name":"[Django] Query String 쿼리스트링","description":"Query string에 대해 알아봅시다.","keywords":["django","장고","django query string","쿼리 스트링"],"articleBody":"Query String 기존에 저는 뷰를 작성하고 특정 URL로 접속해 body에 데이터를 담아 JSON 타입으로 인코딩을 해서 통신을 했습니다. 그러나 클라이언트의 기능이 점점 추가될수록 서버 측에서는 조건에 따라 모든 API를 작성하는 것이 반복적이고 불필요한 작업이 될 수 있습니다.\n이러한 문제점을 해결해주는게 RESTful한 API 작성을 도와주는 Query String 입니다.\nRESTfulAPI 란??\nQuery String 은 ?로 시작해서 \u0026를 통해 여러 데이터를 동시에 전달 가능합니다.\nviews.py\nclass ProductDetailView(View): def get(self, request, product_id): try: product = Product.objects.get(id = product_id) result = { 'id' : product.id, 'name' : product.name, 'shipping' : product.shipping, 'price' : product.price, 'is_green' : product.is_green, 'is_sale' : product.is_sale, 'category_id' : product.category_id, 'stock' : product.stock, 'discount_price' : product.discount_price, 'image' : product.image_set.all()[0].img_url } return JsonResponse({'result': result}, status = 200) urls.py\nurlpatterns = [ path(\"/\",ProductDetailView.as_view()) ] 위의 코드는 기존의 상품을 가져오는 뷰\nhttp://127.0.0.1/products/7\n라고 입력을 하면 product_id 의 7번 상품을 조회해서 정보를 JSON 타입으로 주었습니다.\n이번에는 쿼리스트링을 적용해 볼까요?\nviews.py\nclass ProductDetailView(View): def get(self, request): try: product_id = request.GET.get('id') products = Product.objects.filter(id = product_id).values() products = list(products) return JsonResponse({'result': products}, status = 200) urls.py\nurlpatterns = [ path(\"\",ProductDetailView.as_view()) ] request.GET.get 으로 id 7번 아이템을 가져와서 모든 정보를 가져오라는 뜻입니다.\n그래서 입력을 http://127.0.0.1:8000/products?id=7 이렇게 했더니\n똑같이 정상적으로 출력이 되는 것을 확인하실 수 있습니다.\n아직까지도 난해한 부분이라 계속 응용을 해봐야할것같습니다.\n","wordCount":"202","inLanguage":"en","datePublished":"2022-02-06T00:00:00Z","dateModified":"2022-02-06T00:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://v8.network/post/django-query-string/"},"publisher":{"@type":"Organization","name":"V8 Network","logo":{"@type":"ImageObject","url":"https://v8.network/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://v8.network accesskey=h title="V8 Network (Alt + H)"><img src=https://v8.network/apple-touch-icon.png alt aria-label=logo height=35>V8 Network</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://v8.network/categories/ title=categories><span>categories</span></a></li><li><a href=https://v8.network/tags/ title=tags><span>tags</span></a></li><li><a href=https://github.com/sosolyht title=github><span>github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://v8.network>Home</a>&nbsp;»&nbsp;<a href=https://v8.network/post/>Posts</a></div><h1 class=post-title>[Django] Query String 쿼리스트링</h1><div class=post-description>Query string에 대해 알아봅시다.</div><div class=post-meta><span title='2022-02-06 00:00:00 +0000 UTC'>February 6, 2022</span>&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/post/django-query-string.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h1 id=query-string>Query String<a hidden class=anchor aria-hidden=true href=#query-string>#</a></h1><p><img loading=lazy src=https://user-images.githubusercontent.com/2377807/152666203-2279cc57-d5dc-4a03-b54d-568e228bd25f.png alt="query string"></p><p>기존에 저는 뷰를 작성하고 특정 URL로 접속해 body에 데이터를 담아 JSON 타입으로 인코딩을 해서 통신을 했습니다.
그러나 클라이언트의 기능이 점점 추가될수록 서버 측에서는 조건에 따라 모든 API를 작성하는 것이 반복적이고 불필요한 작업이 될 수 있습니다.</p><p>이러한 문제점을 해결해주는게 RESTful한 API 작성을 도와주는 <code>Query String</code> 입니다.</p><p><a href=https://cidk.xyz/p/restful-api/>RESTfulAPI 란??</a></p><p><code>Query String</code> 은 <code>?</code>로 시작해서 <code>&</code>를 통해 여러 데이터를 동시에 전달 가능합니다.</p><blockquote><p>views.py</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>ProductDetailView</span><span class=p>(</span><span class=n>View</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>product_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>product</span> <span class=o>=</span> <span class=n>Product</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>id</span> <span class=o>=</span> <span class=n>product_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;id&#39;</span>             <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;name&#39;</span>           <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;shipping&#39;</span>       <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>shipping</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;price&#39;</span>          <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>price</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;is_green&#39;</span>       <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>is_green</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;is_sale&#39;</span>        <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>is_sale</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;category_id&#39;</span>    <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>category_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;stock&#39;</span>          <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>stock</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;discount_price&#39;</span> <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>discount_price</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;image&#39;</span>          <span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>image_set</span><span class=o>.</span><span class=n>all</span><span class=p>()[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>img_url</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>JsonResponse</span><span class=p>({</span><span class=s1>&#39;result&#39;</span><span class=p>:</span> <span class=n>result</span><span class=p>},</span> <span class=n>status</span> <span class=o>=</span> <span class=mi>200</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>urls.py</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>urlpatterns</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span><span class=p>(</span><span class=s2>&#34;/&lt;int:product_id&gt;&#34;</span><span class=p>,</span><span class=n>ProductDetailView</span><span class=o>.</span><span class=n>as_view</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><p>위의 코드는 기존의 상품을 가져오는 뷰</p><p><code>http://127.0.0.1/products/7</code></p><p>라고 입력을 하면 <code>product_id</code> 의 7번 상품을 조회해서 정보를 JSON 타입으로 주었습니다.</p><p>이번에는 쿼리스트링을 적용해 볼까요?</p><blockquote><p>views.py</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>ProductDetailView</span><span class=p>(</span><span class=n>View</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>product_id</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>GET</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;id&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>products</span> <span class=o>=</span> <span class=n>Product</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=nb>id</span> <span class=o>=</span> <span class=n>product_id</span><span class=p>)</span><span class=o>.</span><span class=n>values</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>products</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>products</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>JsonResponse</span><span class=p>({</span><span class=s1>&#39;result&#39;</span><span class=p>:</span> <span class=n>products</span><span class=p>},</span> <span class=n>status</span> <span class=o>=</span> <span class=mi>200</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>urls.py</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>urlpatterns</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=n>ProductDetailView</span><span class=o>.</span><span class=n>as_view</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><p><code>request.GET.get</code> 으로 <code>id</code> 7번 아이템을 가져와서 모든 정보를 가져오라는 뜻입니다.</p><p>그래서 입력을 <code>http://127.0.0.1:8000/products?id=7</code> 이렇게 했더니</p><p><img loading=lazy src=https://user-images.githubusercontent.com/2377807/152666763-2c6ed01b-1f6b-4f6e-a683-ae34edd266ab.png alt=image></p><p>똑같이 정상적으로 출력이 되는 것을 확인하실 수 있습니다.</p><p>아직까지도 난해한 부분이라 계속 응용을 해봐야할것같습니다.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://v8.network/tags/django/>Django</a></li></ul><nav class=paginav><a class=prev href=https://v8.network/post/baemin-survival/><span class=title>« Prev</span><br><span>[배민서바이벌] 프로젝트 완성 및 회고</span></a>
<a class=next href=https://v8.network/post/django-why-need-request/><span class=title>Next »</span><br><span>[Django] JsonResponse를 쓰는데 왜 request 가 필요할까</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://v8.network>V8 Network</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>